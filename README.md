# üìö FastAPI API –¥–ª—è –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è –û–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏

–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ FastAPI –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏, –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏, –ª–∏–¥–∞–º–∏ –∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:

- –°–æ–∑–¥–∞–≤–∞—Ç—å
- –û–±–Ω–æ–≤–ª—è—Ç—å
- –ü–æ–ª—É—á–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞—Ö –∏ –∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–∞—Ö

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python: 3.7 –∏–ª–∏ –≤—ã—à–µ
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏:
  - SQLAlchemy
  - FastAPI
  - Uvicorn –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- –†–µ–ª—è—Ü–∏–æ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: –ù–∞–ø—Ä–∏–º–µ—Ä, SQLite –∏–ª–∏ PostgreSQL

### üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
   
    ```bash
    git clone https://github.com/–≤–∞—à–µ_–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–≤–∞—à_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.git
   cd –≤–∞—à_—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
   
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   
    ```bash
   pip install fastapi[all] sqlalchemy
   
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   
    ```bash
   uvicorn main:app --reload
   

## üîå –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

1. **–°–æ–∑–¥–∞—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞**
   - –≠–Ω–¥–ø–æ–∏–Ω—Ç: POST /operators/
   - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
     
      ```json
     {
       "name": "–ò–º—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞"
     }
     
   - –û—Ç–≤–µ—Ç: –î–∞–Ω–Ω—ã–µ –æ —Å–æ–∑–¥–∞–Ω–Ω–æ–º –æ–ø–µ—Ä–∞—Ç–æ—Ä–µ.
   - –ö–æ–¥ –æ—Ç–≤–µ—Ç–∞: 200 OK –∏–ª–∏ 201 Created.

2. **–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤**
   - –≠–Ω–¥–ø–æ–∏–Ω—Ç: GET /operators
   - –û—Ç–≤–µ—Ç: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤.
   - –ö–æ–¥ –æ—Ç–≤–µ—Ç–∞: 200 OK.

3. **–û–±–Ω–æ–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞**
   - –≠–Ω–¥–ø–æ–∏–Ω—Ç: PATCH /operators/{operator_id}
   - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
     
      ```json
     {
         "name": "–ù–æ–≤–æ–µ –∏–º—è –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞"
     }
     
   - –û—Ç–≤–µ—Ç: –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞.
   - –ö–æ–¥ –æ—Ç–≤–µ—Ç–∞: 200 OK.
   - –û—à–∏–±–∫–∞: 404 Not Found, –µ—Å–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä –Ω–µ –Ω–∞–π–¥–µ–Ω.

4. **–°–æ–∑–¥–∞—Ç—å –∏—Å—Ç–æ—á–Ω–∏–∫**
   - –≠–Ω–¥–ø–æ–∏–Ω—Ç: POST /sources
   - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
     
      ```json
     {
       "name": "–ò–º—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞"
     }
     
   - –û—Ç–≤–µ—Ç: –î–∞–Ω–Ω—ã–µ –æ —Å–æ–∑–¥–∞–Ω–Ω–æ–º –∏—Å—Ç–æ—á–Ω–∏–∫–µ.
   - –ö–æ–¥ –æ—Ç–≤–µ—Ç–∞: 201 Created.

5. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞**
   - –≠–Ω–¥–ø–æ–∏–Ω—Ç: PATCH /sources/{source_id}/operators
   - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
     
      ```json
     {
         "operators": [1, 2, 3]  // –°–ø–∏—Å–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤
     }
     
   - –û—Ç–≤–µ—Ç: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –¥–ª—è –∏—Å—Ç–æ—á–Ω–∏–∫–∞.
   - –ö–æ–¥ –æ—Ç–≤–µ—Ç–∞: 200 OK.
   - –û—à–∏–±–∫–∞: 404 Not Found, –µ—Å–ª–∏ –∏—Å—Ç–æ—á–Ω–∏–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω.

6. **–°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–∞–∫—Ç**
   - –≠–Ω–¥–ø–æ–∏–Ω—Ç: POST /contacts
   - –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:
     
      ```json
     {
         "external_id": "–≤–Ω–µ—à–Ω–∏–π-–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä",
         "source_id": 1
     }
     
   - –û—Ç–≤–µ—Ç: –î–∞–Ω–Ω—ã–µ –æ —Å–æ–∑–¥–∞–Ω–Ω–æ–º –∫–æ–Ω—Ç–∞–∫—Ç–µ.
   - –ö–æ–¥ –æ—Ç–≤–µ—Ç–∞: 201 Created.

7. **–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ª–∏–¥—ã**
   - –≠–Ω–¥–ø–æ–∏–Ω—Ç: GET /leads
   - –û—Ç–≤–µ—Ç: –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ª–∏–¥–æ–≤.
   - –ö–æ–¥ –æ—Ç–≤–µ—Ç–∞: 200 OK.

8. **–ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤**
   - –≠–Ω–¥–ø–æ–∏–Ω—Ç: GET /distribution
   - –û—Ç–≤–µ—Ç: –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤ –ø–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º.
   - –ö–æ–¥ –æ—Ç–≤–µ—Ç–∞: 200 OK.

## üìû –ó–∞–∫–ª—é—á–µ–Ω–∏–µ
–≠—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤, –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –∏ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤, —É–ø—Ä–æ—â–∞—è –ø—Ä–æ—Ü–µ—Å—Å –∏—Ö —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞.
